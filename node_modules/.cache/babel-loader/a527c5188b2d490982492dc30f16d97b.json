{"ast":null,"code":"import _classCallCheck from \"/Users/patrykkeska/Documents/GitHub/weather-forecast/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/patrykkeska/Documents/GitHub/weather-forecast/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/patrykkeska/Documents/GitHub/weather-forecast/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/patrykkeska/Documents/GitHub/weather-forecast/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/patrykkeska/Documents/GitHub/weather-forecast/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/Users/patrykkeska/Documents/GitHub/weather-forecast/src/component/App.js\";\nimport React, { Component } from 'react';\nimport './App.css';\nimport Form from './Form';\nimport Result from './Result';\n\nvar App =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(App, _Component);\n\n  function App() {\n    var _getPrototypeOf2;\n\n    var _this;\n\n    _classCallCheck(this, App);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(App)).call.apply(_getPrototypeOf2, [this].concat(args)));\n    _this.state = {\n      value: '',\n      date: '',\n      city: '',\n      sunrise: ' ',\n      sunset: ' ',\n      temperature: ' ',\n      pressure: ' ',\n      wind: ' ',\n      icon: ' ',\n      description: ' ',\n      error: false\n    };\n\n    _this.handleInputChange = function (e) {\n      _this.setState({\n        value: e.target.value\n      });\n    };\n\n    _this.handleFindClick = function (e) {\n      e.preventDefault();\n      var API = \"https://api.openweathermap.org/data/2.5/weather?q=\".concat(_this.state.value, \"&APPID=a9d859ae3b80fbcd7fa5b0c20002adf5&units=metric\");\n      var date = new Date().toLocaleString();\n      fetch(API).then(function (response) {\n        if (response.ok) {\n          return response;\n        }\n\n        throw Error('Can not find that city');\n      }).then(function (response) {\n        return response.json();\n      }).then(function (data) {\n        return _this.setState({\n          date: date,\n          city: _this.state.value,\n          sunrise: data.sys.sunrise,\n          sunset: data.sys.sunset,\n          temperature: data.main.temp.toFixed(0),\n          pressure: data.main.pressure,\n          wind: data.wind.speed,\n          description: data.weather[0].description,\n          icon: data.weather[0].icon,\n          error: false\n        });\n      }).catch(function (error) {\n        _this.setState({\n          error: true,\n          city: _this.state.value\n        });\n      });\n    };\n\n    return _this;\n  }\n\n  _createClass(App, [{\n    key: \"render\",\n    value: function render() {\n      return React.createElement(React.Fragment, null, React.createElement(\"h1\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 66\n        },\n        __self: this\n      }, \"Weather Forecast\"), React.createElement(Form, {\n        click: this.handleFindClick,\n        change: this.handleInputChange,\n        value: this.state.value,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 67\n        },\n        __self: this\n      }), React.createElement(Result, {\n        weather: this.state,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 68\n        },\n        __self: this\n      }));\n    }\n  }]);\n\n  return App;\n}(Component);\n\nexport default App;","map":{"version":3,"sources":["/Users/patrykkeska/Documents/GitHub/weather-forecast/src/component/App.js"],"names":["React","Component","Form","Result","App","state","value","date","city","sunrise","sunset","temperature","pressure","wind","icon","description","error","handleInputChange","e","setState","target","handleFindClick","preventDefault","API","Date","toLocaleString","fetch","then","response","ok","Error","json","data","sys","main","temp","toFixed","speed","weather","catch"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport './App.css';\nimport Form from './Form'\nimport Result from './Result'\n\nclass App extends Component {\n\n  state = {\n    value: '',\n    date: '',\n    city: '',\n    sunrise: ' ',\n    sunset: ' ',\n    temperature: ' ',\n    pressure: ' ',\n    wind: ' ',\n    icon: ' ',\n    description: ' ',\n    error: false,\n  }\n\n  handleInputChange = (e) => {\n    this.setState({\n      value: e.target.value,\n    })\n  }\n\n  handleFindClick = (e) => {\n    e.preventDefault();\n    const API = `https://api.openweathermap.org/data/2.5/weather?q=${this.state.value}&APPID=a9d859ae3b80fbcd7fa5b0c20002adf5&units=metric`\n    const date = new Date().toLocaleString();\n    fetch(API)\n      .then(response => {\n        if (response.ok) {\n          return response\n        }\n        throw Error('Can not find that city')\n      }).then(response => response.json())\n      .then(data =>\n        this.setState({\n          date: date,\n          city: this.state.value,\n          sunrise: data.sys.sunrise,\n          sunset: data.sys.sunset,\n          temperature: data.main.temp.toFixed(0),\n          pressure: data.main.pressure,\n          wind: data.wind.speed,\n          description: data.weather[0].description,\n          icon: data.weather[0].icon,\n          error: false,\n        }))\n\n      .catch(error => {\n        this.setState({\n          error: true,\n          city: this.state.value,\n        })\n      })\n  }\n\n\n\n  render() {\n    return (\n      <>\n        <h1>Weather Forecast</h1>\n        <Form click={this.handleFindClick} change={this.handleInputChange} value={this.state.value} />\n        <Result weather={this.state} />\n\n      </>\n    );\n  }\n}\n\nexport default App;\n"]},"metadata":{},"sourceType":"module"}